SLAM Toolbox


sudo apt install ros-jazzy-slam-toolbox ros-jazzy-nav2-bringup ros-jazzy-nav2-common
–ï—Å–ª–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? 

sudo mkdir -p /etc/apt/keyrings

# –°–∫–∞—á–∏–≤–∞–µ–º —Å–≤–µ–∂–∏–π ros.asc
sudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc -o /etc/apt/keyrings/ros.asc

# –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–ø–∏—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/ros.asc] \
  http://packages.ros.org/ros2/ubuntu $(lsb_release -cs) main" \
 | sudo tee /etc/apt/sources.list.d/ros2.list

sudo apt update && sudo apt upgrade -y

sudo apt install ros-jazzy-slam-toolbox ros-jazzy-nav2-bringup ros-jazzy-nav2-common
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

nano ~/ros2_ws/slam_param.yaml
–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

slam_toolbox:
  ros__parameters:

    # üì° –ù–∞–∑–≤–∞–Ω–∏—è —Ñ—Ä–µ–π–º–æ–≤ –∏ —Ç–æ–ø–∏–∫–∞ –ª–∏–¥–∞—Ä–∞
    scan_topic: /scan               # –¢–æ–ø–∏–∫ —Å –ª–∞–∑–µ—Ä–Ω—ã–º–∏ —Å–∫–∞–Ω–∞–º–∏
    odom_frame: odom               # –ö–∞–¥—Ä –æ–¥–æ–º–µ—Ç—Ä–∏–∏ (–æ–±—ã—á–Ω–æ "odom")
    map_frame: map                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ—Ä–µ–π–º –∫–∞—Ä—Ç—ã
    base_frame: base_link          # –§—Ä–µ–π–º —Ä–æ–±–æ—Ç–∞ (–ª–∏–¥–∞—Ä–∞)

    # ‚öôÔ∏è –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã SLAM Toolbox
    mode: mapping                  # –†–µ–∂–∏–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–∞—Ä—Ç—ã (localization ‚Äî –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤–æ–π)

    # üìâ –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è
    use_odometry: true             # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–æ–º–µ—Ç—Ä–∏—é (false, –µ—Å–ª–∏ –æ–Ω–∞ —Å–∏–ª—å–Ω–æ –≤—Ä–µ—Ç)
    use_scan_matching: true        # –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∞–Ω–æ–≤ ‚Äî –æ—Å–Ω–æ–≤–∞ SLAM
    use_scan_barycenter: false     # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä —Å–∫–∞–Ω–∞ (–æ–±—ã—á–Ω–æ false)

    # üó∫Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–∞—Ä—Ç—ã
    resolution: 0.03               # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã: —Ä–∞–∑–º–µ—Ä –∫–ª–µ—Ç–∫–∏ –≤ –º–µ—Ç—Ä–∞—Ö
    max_laser_range: 2.5           # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ª—É—á–∞ –ª–∏–¥–∞—Ä–∞ (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –¥–∞—Ç—á–∏–∫–æ–º)
    minimum_time_interval: 0.05    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–∫–∞–Ω–æ–≤
    transform_publish_period: 0.05 # –ö–∞–∫ —á–∞—Å—Ç–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å transform map -> odom

    # üß∑ –£—Å–ª–æ–≤–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —É–∑–ª–æ–≤ (–∫–ª—é—á–µ–≤—ã—Ö —Ñ—Ä–µ–π–º–æ–≤)
    minimum_travel_distance: 0.1          # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–∞ (–º), —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª
    minimum_travel_heading: 0.2           # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç (—Ä–∞–¥), —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —É–∑–µ–ª
    temporal_update_distance: 0.0         # [–û—Ç–∫–ª—é—á–µ–Ω–æ] –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–º—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
    temporal_update_angle: 0.0            # [–û—Ç–∫–ª—é—á–µ–Ω–æ] –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ —É–≥–ª—É

    # üîÅ –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –∏ –≥—Ä–∞—Ñ–∞
    occupancy_map_update_frequency: 1.0   # –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç—ã (–ì—Ü)
    optimization_frequency: 1.0           # –ß–∞—Å—Ç–æ—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∞ (–ì—Ü)
    optimizer_iterations: 10              # –ö–æ–ª-–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –∑–∞ –ø—Ä–æ—Ö–æ–¥

    # üîÑ –ó–∞–º—ã–∫–∞–Ω–∏–µ –ø–µ—Ç–µ–ª—å (Loop Closure)
    do_loop_closing: true                         # –í–∫–ª—é—á–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ –ø–µ—Ç–µ–ª—å
    loop_closure_enabled: true                    # –†–∞–∑—Ä–µ—à–∏—Ç—å –∏—Å–∫–∞—Ç—å –ø–µ—Ç–ª–∏
    loop_closure_frequency: 1.0                   # –ß–∞—Å—Ç–æ—Ç–∞ –ø–æ–ø—ã—Ç–æ–∫ –∑–∞–º—ã–∫–∞–Ω–∏—è –ø–µ—Ç–µ–ª—å (–ì—Ü)
    loop_closure_threshold: 4.0                   # –ü–æ—Ä–æ–≥ –æ—Ü–µ–Ω–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–∫–∞–Ω–æ–≤ –¥–ª—è –ø–µ—Ç–ª–∏
    loop_match_max_distance: 8.0                  # –ú–∞–∫—Å. —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–µ—Ç–ª–∏ (–º)
    loop_search_maximum_distance: 12.0            # –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –¥–ª—è –ø–µ—Ç–µ–ª—å
    loop_match_minimum_chain_size: 10             # –ú–∏–Ω. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Å–∫–∞–Ω–æ–≤ –≤ —Ü–µ–ø–æ—á–∫–µ
    loop_match_maximum_variance_coverage: 0.2     # –î–æ–ø—É—Å—Ç–∏–º–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

    # üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ª–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ —Å–∫–∞–Ω–æ–≤
    correlation_search_space_dimension: 3.0       # –†–∞–∑–º–µ—Ä –ø–æ–∏—Å–∫–∞ –≤–æ–∫—Ä—É–≥ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ (–º)
    correlation_search_space_resolution: 0.05     # –®–∞–≥ –ª–∏–Ω–µ–π–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ (–º)
    correlation_search_space_smear_deviation: 0.03 # –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –≤ –º–æ–¥–µ–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (–º)

    # üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —É–≥–ª–æ–≤–æ–π –ø–æ–∏—Å–∫ —Å–∫–∞–Ω–æ–≤
    angular_search_space_dimension: 6.2832        # –£–≥–ª–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ–∏—Å–∫–∞ (—Ä–∞–¥) ‚Äî 2œÄ = 360¬∞
    angular_search_space_resolution: 0.01745      # –®–∞–≥ —É–≥–ª–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ (~1¬∞ –≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö)

    # ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–∫–∞–Ω–æ–≤
    use_response_expansion: true          # –†–∞—Å—à–∏—Ä—è—Ç—å –æ–±–ª–∞—Å—Ç—å –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ
    match_window_size: 15                 # –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
    match_search_size: 15                 # –†–∞–∑–º–µ—Ä –æ–±–ª–∞—Å—Ç–∏ –ø–æ–∏—Å–∫–∞
    match_response_threshold: 0.55        # –ü–æ—Ä–æ–≥ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å–∫–∞–Ω–æ–≤
    minimum_score_threshold: 0.45         # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ–ø—É—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

    # üß† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
    max_submaps_to_keep: 20              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–∞—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≥—Ä–∞—Ñ–µ

    # üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
    serialization_time_interval: -1.0    # –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ (–≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å)
–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞—Ä—Ç—É:

ros2 launch slam_toolbox online_sync_launch.py slam_params_file:=~/ros2_ws/slam_param.yaml