# ROSiK  
**Robot Operating System ‚Äî interactive Kit**  

![–†–æ–±–æ—Ç ROSik](/images/ROSik.png)


–ú–∏–Ω–∏-—Ä–æ–±–æ—Ç –Ω–∞ **ESP32 Wroom-32 + ROS 2**, –∫–æ—Ç–æ—Ä—ã–π:
* —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç –æ–¥–æ–º–µ—Ç—Ä–∏—é –∏ –ª–∏–¥–∞—Ä –ø–æ Wi-Fi —á–µ—Ä–µ–∑ WebSocket-–º–æ—Å—Ç;
* —Å—Ç—Ä–æ–∏—Ç –∫–∞—Ä—Ç—ã –∏ –ª–æ–∫–∞–ª–∏–∑—É–µ—Ç—Å—è (`slam_toolbox`);
* –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø—É—Ç—å (`nav2`);
* –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –º–æ–¥—É–ª—è–º–∏ ‚Äî –∫–∞–º–µ—Ä–∞, IMU, –¥–∏–Ω–∞–º–∏–∫, –∞–¥—Ä–µ—Å–Ω—ã–µ LED, OLED-–¥–∏—Å–ø–ª–µ–π.

–†–∞–±–æ—Ç–∞–µ—Ç **–Ω–∞ –ª—é–±–æ–π –º–∞—à–∏–Ω–µ**: —á–∏—Å—Ç–∞—è Ubuntu 24.04, WSL 2 –ø–æ–¥ Windows –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª–∫–∞ ‚Äî –Ω—É–∂–µ–Ω –ª–∏—à—å Wi-Fi.

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ [Ubuntu](https://stepik.org/lesson/1505338/step/1?unit=1525484), [WSL](https://stepik.org/lesson/1505339/step/4?unit=1525485), –∞ —Ç–∞–∫–∂–µ  [–∑–∞–ø—É—Å–∫—É –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (RVIZ)](https://stepik.org/lesson/1505339/step/5?unit=1525485).



---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å (BOM)](#–∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è-—á–∞—Å—Ç—å-bom)  
2. [–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞](#—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è-—Å—Ö–µ–º–∞)  
3. [3D-–º–æ–¥–µ–ª–∏ –∏ —Å–±–æ—Ä–∫–∞](#3d-–º–æ–¥–µ–ª–∏-–∏-—Å–±–æ—Ä–∫–∞)  
4. [–ü—Ä–æ—à–∏–≤–∫–∞ ESP32](#–ø—Ä–æ—à–∏–≤–∫–∞-esp32)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PID –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-pid)
6. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ–¥ –≤ ROS2](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–ø–æ-–Ω–∞-–ø–∫)  
7. [–ó–∞–ø—É—Å–∫ ROS 2-–Ω–æ–¥](#–∑–∞–ø—É—Å–∫-ros-2-–Ω–æ–¥)  
8. [–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)



## üõí<a id="–∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è-—á–∞—Å—Ç—å-bom">–ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å (BOM)</a>

* | 1 | **ESP32 Wroom-32 DevKit**         | https://aliexpress.ru/item/1005006697750568.html
* | 2 | DC-–º–æ—Ç–æ—Ä N20 60 RPM + —ç–Ω–∫–æ–¥–µ—Ä     | https://aliexpress.ru/item/1005007145668771.html
* | 3 | –î—Ä–∞–π–≤–µ—Ä –º–æ—Ç–æ—Ä–æ–≤ ZK-5AD            | https://aliexpress.ru/item/1005005798367960.html
* | 4 | –õ–∏–¥–∞—Ä                             | https://aliexpress.ru/item/1005008371059417.html
* | 5 | –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä 18650 √ó 2 + –¥–µ—Ä–∂–∞—Ç–µ–ª—å | https://aliexpress.ru/item/1005005447141518.html
* | 6 | –ü–æ–Ω–∏–∂–∞—é—â–∏–π DC-DC                  | https://aliexpress.ru/item/32896699470.html
* | 7 | –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –ø–∏—Ç–∞–Ω–∏—è             | https://aliexpress.ru/item/4000973563250.html
* | 8 | Type-C –∑–∞—Ä—è–¥–∫–∞  2S 1A             | https://aliexpress.ru/item/1005006628986640.html


---

## üîå <a id="—ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è-—Å—Ö–µ–º–∞">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —Å—Ö–µ–º–∞</a>

–§–∞–π–ª CorelDraw **`/Scheme/ROSik_scheme.cdr`**  
–∞ —Ç–∞–∫–∂–µ PNG **`/Scheme/scheme.png`**.  
–í —Å—Ö–µ–º–µ –ø–æ–∫–∞–∑–∞–Ω—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏—è (8,4 V ‚Üí 5 V), —Å–∏–≥–Ω–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –∫ –¥—Ä–∞–π–≤–µ—Ä—É –º–æ—Ç–æ—Ä–æ–≤, —ç–Ω–∫–æ–¥–µ—Ä–∞–º, –ª–∏–¥–∞—Ä—É (UART)  
![–°—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∞](/Scheme/scheme.png)

---

## üñ® <a id="3d-–º–æ–¥–µ–ª–∏-–∏-—Å–±–æ—Ä–∫–∞">3D-–º–æ–¥–µ–ª–∏ –∏ —Å–±–æ—Ä–∫–∞</a>

–ö–∞—Ç–∞–ª–æ–≥ **`/3D`** —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–∞–π–ª—ã SolidWorks (`.SLDPRT/.SLDASM`) –∏ –≥–æ—Ç–æ–≤—ã–µ `.STL` –¥–ª—è –ø–µ—á–∞—Ç–∏.

![3D-–º–æ–¥–µ–ª—å](images/3d.png)
* | `00 - WheelLayer.*`    | –ù–∏–∂–Ω—è—è –ø–ª–∏—Ç–∞ —Å –º–æ—Ç–æ—Ä–∞–º–∏ 
* | `01 - LidarLayer.*`    | –í–µ—Ä—Ö–Ω—è—è –ø–ª–∏—Ç–∞ –ø–æ–¥ –ª–∏–¥–∞—Ä 
* | `10 - ESPLayer.*`      | –°—Ä–µ–¥–Ω—è—è –ø–ª–∏—Ç–∞ –ø–æ–¥ ESP32 –∏ –¥—Ä–∞–π–≤–µ—Ä 
* | `Bracket.* / Holder.*` | –ö—Ä–µ–ø—ë–∂ –º–æ—Ç–æ—Ä–æ–≤, DC-DC –∏ —Ç.–ø. 
* | `RosikAssambl.SLDASM`  | –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ 
* | `STL/`                 | –§–∞–π–ª—ã –¥–ª—è –ø–µ—á–∞—Ç–∏ (0,2 –º–º, PLA) 
* | `ROSik.png`            | –†–µ–Ω–¥–µ—Ä –∏—Ç–æ–≥–æ–≤–æ–≥–æ –≤–∏–¥–∞ 

–°–æ–±–∏—Ä–∞—Ç—å —Å–Ω–∏–∑—É ‚Üí –≤–≤–µ—Ä—Ö, —Ñ–∏–∫—Å–∏—Ä—É—è —Å–ª–æ–∏ —Å—Ç–æ–π–∫–∞–º–∏ M3 √ó 20 –º–º. –ü—Ä–æ–≤–æ–¥–∫—É –ø—Ä—è—á–µ–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –æ–±—ä–µ–º–µ —Ä–æ–±–æ—Ç–∞.

---

## üî•<a id="–ø—Ä–æ—à–∏–≤–∫–∞-esp32"> –ü—Ä–æ—à–∏–≤–∫–∞ ESP32 </a>

### –¢—Ä–µ–±—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Arduino IDE)

* –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ZIP-—Ñ–∞–π–ª—ã –∏–∑ `/esp32_libraries/` –≤ `Documents/Arduino/libraries`  
* –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞—Ç—É ESP32: `File ‚Üí Preferences ‚Üí Additional URL` ‚Üí `https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json`
* –ß–µ—Ä–µ–∑ Board Manager –¥–æ–±–∞–≤—å—Ç–µ ESP32

### –®–∞–≥–∏ –ø—Ä–æ—à–∏–≤–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ **`/esp32_firmware/esp32_firmware.ino`** –≤ Arduino IDE.  
2. –ò–∑–º–µ–Ω–∏—Ç–µ SSID –∏ –ø–∞—Ä–æ–ª—å Wi-Fi —Å–µ—Ç–∏.  
3. –ü–æ—Ä—Ç: `Tools ‚Üí Port ‚Üí /dev/ttyUSB?` (–∏–ª–∏ COM\*)
4. –ü–ª–∞—Ç–∞: `ESP32 Wroom DA Module`
5. –ó–∞–≥—Ä—É–∑–∫–∞ `Ctrl + U`.  
6. –ü–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ ESP32 –ø–µ—á–∞—Ç–∞–µ—Ç IP-–∞–¥—Ä–µ—Å –≤ Serial Monitor. –°–∫–æ—Ä–æ—Å—Ç—å: `115200 baud`.

> –ü—Ä–æ—à–∏–≤–∫–∞ –¥–ª—è ESP32_cam (`/esp32_cam/firmware/firmware.ino`) 

---

## <a id="–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-pid">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ PID –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–±–æ—Ç–∞</a>

### –£—Ç–∏–ª–∏—Ç–∞ –ø–æ–∑–≤–æ–ª–∏–≤ –≤–∞–º –ø–æ–¥–æ–±—Ä–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã PID - —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ –∏ –ø—Ä–∏–≤–µ—Ä–∏—Ç—å –µ–≥–æ —Ä–∞–±–æ—Ç—É
![–°—Ö–µ–º–∞ —Ä–æ–±–æ—Ç–∞](/pythonGUI/gui.png)

* –ò–∑–º–µ–Ω–∏—Ç–µ IP –∞–¥—Ä–µ—Å
* –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –æ–¥–æ–º–µ—Ç—Ä–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–±–æ—Ç–æ–º
* –ü–æ–¥–±–µ—Ä–∏—Ç–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∏—Ö –≤ –ø—Ä–æ—à–∏–≤–∫–µ —Ä–æ–±–æ—Ç–∞

---

## üêß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ù–æ–¥—ã –≤ ROS2

```bash
# 1. –°–æ–∑–¥–∞—ë–º —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/ros2_ws/src && cd ~/ros2_ws/src

# 2. –ö–æ–ø–∏—Ä—É–µ–º esp32_bridge –≤ ~/ros2_ws/src

# 3. –°–±–æ—Ä–∫–∞
cd ~/ros2_ws
colcon build
source install/setup.bash

````

* –í—Å–µ –∫–æ–Ω—Ñ–∏–≥–∏ –ª–µ–∂–∞—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `esp32_bridge\config`. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—É—Ç–∏ –∫ –∫–æ–Ω—Ñ–∏–≥–∞–º –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
* –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ **ROS 2 Jazzy** (Ubuntu 24.04)
* –≤ **WSL 2** –Ω—É–∂–µ–Ω X-server (XLaunch) –¥–ª—è RViz 2

---

## üöÄ<a id="–∑–∞–ø—É—Å–∫-ros-2-–Ω–æ–¥"> –ó–∞–ø—É—Å–∫ ROS 2-–Ω–æ–¥ </a>

| –®–∞–≥ | –ö–æ–º–∞–Ω–¥–∞                                                                                                                     | –û–ø–∏—Å–∞–Ω–∏–µ            |
| --- | --------------------------------------------------------------------------------------------------------------------------- | ------------------- |
| 1   | `ros2 run esp32_bridge esp32_bridge --ros-args -p host:=<IP_ESP32> `                                                        | WebSocket-–º–æ—Å—Ç      |
| 2   | `rviz2` ¬†‚Üí `File ‚Üí Open Config` ‚Üí `config/rviz/rosik.rviz`                                                                  | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| 3   | `ros2 launch slam_toolbox online_sync_launch.py slam_params_file:=~/ros2_ws/src/esp32_bridge/config/slam_param.yaml`        | –û–Ω–ª–∞–π–Ω SLAM         |
| 4   | `ros2 run teleop_twist_keyboard teleop_twist_keyboard`                                                                      | –¢–µ–ª–µ—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ      |
| 5   | `ros2 service call /slam_toolbox/serialize_map slam_toolbox/srv/SerializePoseGraph "{filename: '~/ros2_ws/maps/my_map'}"`   | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞—Ä—Ç—É     |
| 6   | `ros2 launch slam_toolbox localization_launch.py slam_params_file:=~/ros2_ws/src/esp32_bridge/config/slam_localization.yaml`| –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è         |
| 7   | `ros2 launch nav2_bringup navigation_launch.py params_file:=~/ros2_ws/src/esp32_bridge/config/nav_param.yaml`               | –ù–∞–≤–∏–≥–∞—Ü–∏—è `nav2`    |

> **WSL 2**: –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º RViz 2<br>
> `export DISPLAY=$(ip route | awk '/default/ {print $3}'):0.0` –∏–ª–∏
> `export DISPLAY=xxx.xxx.xxx.xxx:0.0`

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ RVIZ –≤ —Ñ–∞–π–ª–µ `esp32_bridge/config/rviz.rviz`
![–†–∞–±–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏](/images/nav.png)

## GIF - –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –≤ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–º —Ä–µ–∂–∏–º–µ
![–†–∞–±–æ—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏](/images/ROSIK_nav.gif)

---
<a id="–∫–æ–Ω—Ç–∞–∫—Ç—ã">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
* Telegram: **[@burmistrov\_robotics](https://t.me/burmistrov_robotics)**
* Stepik- –ù–∞—Ä–æ–¥–Ω—ã–π –∫—É—Ä—Å –ø–æ ROS2: [https://stepik.org/course/221157](https://stepik.org/course/221157)

---

